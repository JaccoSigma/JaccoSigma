//This file was generated by the LASAL2 CodeGenerator  -- 
//Please, do not edit this file (it might be overwritten by the next generator run)
#define OBJECTS_CONFIG

//Define part of class DSComm
#define _DEBUG_DSCOMM

#define DS_NI				1				// network interface

#define DS_PORTNUMBER_		9981
#define DS_MAX_CHANNEL   1023

#define DS_CONNECT_TIMEOUT  2000

#define DS_RECV_TIMEOUT		  5000		  // Timeout (ms) für recv

#define DS_SEND_TIMEOUT		  2000
#define DS_SEND_TIMEOUT_CNT	20

#define DS_RESP_TIMEOUT		  10000     //Response Timeout 10s
#define DS_RESP_TIMEOUT_LONG 300000    //300000 ms = 5 min. FileContent() für 4GB dauert ca. 9 min.

#define DS_TCPCom_AliveSignalTime      9900  //1237 ms
#define DS_TCPCom_AliveSignalTimeout   35000 //3000    //ms
#define DS_TCPCom_NewConnectionTime    5000  //ms

#define DS_RECORD_NO_PIPE   16

// defines for creating the parallel task
#define DS_TCPCom_TaskPrio         11                          // priority of the parallel task

//*----------------------------------------------------------------------------------------------------------------------*//
#define DS_PROGRESS_INFO_ELMT_CNT   256   //Anzahl der Elemente in ProgressInfo[]
#define DS_PROGRESS_INFO_DIST       4     //Distanz zwischen den Indices in ProgressInfo[]
#define DS_HANDLE_ID_FREE           0xFFFFFFFF$DINT

#define DS_MAJOR_ID_ELMT_CNT  4096    //Anzahl der Elemente in UserEvent_MajorID[]
#define DS_MAJOR_ID_DIST      8       //Distanz zwischen den Indices im Puffer für MajorIDs
#define DS_MINOR_ID_ELMT_CNT  1024    //Anzahl der Elemente in UserEvent_MinorID[]
#define DS_MINOR_ID_DIST      4       //Distanz zwischen den Indices im Puffer für MinorIDs

#define DS_ALL_MINOR_IDs_VALID 0xFFFF //Alle MinorIDs sind gültig

#define AddEventJournalHeaderSize    (sizeof(DSComm::_DS_EventjournalAddCmd) - sizeof(DSComm::_DS_EventjournalAddCmd.pData))
#define GetEventJournalHeaderSize1   (sizeof(DSComm::_DS_EventjournalGetResp) - sizeof(DSComm::_DS_EventjournalGetResp.pData))
#define GetEventJournalHeaderSize2   (sizeof(DSComm::_DS_EventjournalGetResp.Id) + sizeof(DSComm::_DS_EventjournalGetResp.nc) + sizeof(DSComm::_DS_EventjournalGetResp.EvtTime) + sizeof(DSComm::_DS_EventjournalGetResp.EvtDate) + sizeof(DSComm::_DS_EventjournalGetResp.SessionID))
#define GetEventJournalHeaderSize3   (sizeof(DSComm::_DS_EventjournalGetResp.crc) + sizeof(DSComm::_DS_EventjournalGetResp.idxcnt) + sizeof(DSComm::_DS_EventjournalGetResp.valid) + sizeof(DSComm::_DS_EventjournalGetResp.DataLen))
#define EvtJournalEntryValid          0xFF

#define AliveTrigger_BUFFER_SIZE              sizeof(DSComm::_DS_HEADER)
#define CancelCommand_BUFFER_SIZE             sizeof(DSComm::_DS_HEADER) + sizeof(HandleID)
#define GetVersion_BUFFER_SIZE                sizeof(DSComm::_DS_HEADER)
//#define GetProjectName_BUFFER_SIZE            sizeof(DSComm::_DS_HEADER)
#define GetProjectInfo_BUFFER_SIZE            sizeof(DSComm::_DS_HEADER)
//#define StateUpdate_BUFFER_SIZE               sizeof(DSComm::_DS_HEADER) + 1024
//#define Loop_BUFFER_SIZE                      sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(Station) + 1024     //1024 data bytes
//#define RecipeLoad_BUFFER_SIZE                sizeof(DSComm::_DS_Header) + sizeof(pFilterIncl^) + sizeof(pFilterExcl^) + sizeof(crc) + 1024
//#define RecipeSave_BUFFER_SIZE                sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(pFilterIncl^) + sizeof(pFilterExcl^) + 1024
//#define SendToAll_BUFFER_SIZE                 sizeof(DSComm::_DS_Header) + 1024                       //1024 data bytes
#define ResetDataservice_BUFFER_SIZE          sizeof(DSComm::_DS_HEADER)
#define RestartDataservice_BUFFER_SIZE        sizeof(DSComm::_DS_HEADER)
//#define AddLocalClient_BUFFER_SIZE            sizeof(DSComm::_DS_Header) + 1024
//#define AddLocalClientRange_BUFFER_SIZE       sizeof(DSComm::_DS_Header) + 1024
#define RemoveThisLocalClient_BUFFER_SIZE     sizeof(DSComm::_DS_Header)
//#define RemoveLocalClient_BUFFER_SIZE         sizeof(DSComm::_DS_Header) + 1024
//#define RemoveLocalClientRange_BUFFER_SIZE    sizeof(DSComm::_DS_Header) + 1024
#define ClearLocalClientList_BUFFER_SIZE      sizeof(DSComm::_DS_Header)
#define GetCurrentID_BUFFER_SIZE              sizeof(DSComm::_DS_Header)
#define GetLocalClientList_BUFFER_SIZE        sizeof(DSComm::_DS_Header)
#define GetLocalClientListDetails_BUFFER_SIZE sizeof(DSComm::_DS_Header)
//#define GetLocalClientByID_BUFFER_SIZE        sizeof(DSComm::_DS_Header) + 1024
#define SendFragmentResponse_BUFFER_SIZE      sizeof(DSComm::_DS_HEADER) + sizeof(UID) + sizeof(ErrorCode)
//#define UserLogin_BUFFER_SIZE                 sizeof(DSComm::_DS_Header) + 1024
#define UserLogout_BUFFER_SIZE                sizeof(DSComm::_DS_HEADER)
//#define UserPasswordChange_BUFFER_SIZE        sizeof(DSComm::_DS_Header) + 1024
//#define CheckAccessLevel_BUFFER_SIZE          sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1026         //171 users
//#define CreateUser_BUFFER_SIZE                sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024
//#define ChangeUserSettings_BUFFER_SIZE        sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024
//#define DeleteUser_BUFFER_SIZE                sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 users
#define GetUserList_BUFFER_SIZE               sizeof(DSComm::_DS_HEADER)
#define GetUserDetails_BUFFER_SIZE            sizeof(DSComm::_DS_HEADER) + sizeof(userID)
//#define CreateRole_BUFFER_SIZE                sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024
//#define ChangeRole_BUFFER_SIZE                sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024
//#define DeleteRole_BUFFER_SIZE                sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 roles
#define GetRoleList_BUFFER_SIZE               sizeof(DSComm::_DS_HEADER)
#define GetRoleDetails_BUFFER_SIZE            sizeof(DSComm::_DS_HEADER) + sizeof(roleID)
//#define GetVarIdFromName_BUFFER_SIZE          sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024
//#define GetVarIdFromLasalId_BUFFER_SIZE       sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //128 Lasal-IDs
//#define GetLasalIdFromName_BUFFER_SIZE        sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024
//#define GetLasalIdFromVarId_BUFFER_SIZE       sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 Var-IDs
//#define GetNameFromVarId_BUFFER_SIZE          sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 Var-IDs
//#define GetNameFromLasalId_BUFFER_SIZE        sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //128 Lasal-IDs
#define GetDpList_BUFFER_SIZE                 sizeof(DSComm::_DS_HEADER) + sizeof(pFilterIncl^) + sizeof(pFilterExcl^)
//#define GetDpInfo_BUFFER_SIZE                 sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 Var-IDs
//#define GetVarIdFromCRC_BUFFER_SIZE           sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 CRCs
//#define GetCRCfromVarId_BUFFER_SIZE           sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 Var-IDs
//#define GetValue_BUFFER_SIZE                  sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //128 data points
//#define GetString_BUFFER_SIZE                 sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //128 strings
//#define SetValue_BUFFER_SIZE                  sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1032         //86 data points
//#define SetString_BUFFER_SIZE                 sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024
//#define IncValue_BUFFER_SIZE                  sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 data points
//#define DecValue_BUFFER_SIZE                  sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 data points
//#define RefListAdd_BUFFER_SIZE                sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(channel) + sizeof(num) + 1024     //256 data points
//#define RefListSub_BUFFER_SIZE                sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(channel) + sizeof(num) + 1024     //256 data points
#define GetStationList_BUFFER_SIZE            sizeof(DSComm::_DS_HEADER)
//#define GetStationStatus_BUFFER_SIZE          sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 stations
//#define FileOpen_BUFFER_SIZE                  sizeof(DSComm::_DS_Header) + 1024
#define FileClose_BUFFER_SIZE                 sizeof(DSComm::_DS_HEADER) + sizeof(handle)
#define FileSeek_BUFFER_SIZE                  sizeof(DSComm::_DS_HEADER) + sizeof(handle) + sizeof(start) + sizeof(offset)
#define FileTell_BUFFER_SIZE                  sizeof(DSComm::_DS_HEADER) + sizeof(handle)
#define FileRead_BUFFER_SIZE                  sizeof(DSComm::_DS_HEADER) + sizeof(handle) + sizeof(length)
//#define FileWrite_BUFFER_SIZE                 sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(handle) + sizeof(length) + 1024   //1024 data bytes
#define FileGet_BUFFER_SIZE                   sizeof(DSComm::_DS_HEADER) + sizeof(handle) + sizeof(length)
//#define FilePut_BUFFER_SIZE                   sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(handle) + 1024                    //1024 data bytes
#define FileLength_BUFFER_SIZE                sizeof(DSComm::_DS_HEADER) + sizeof(handle)
//#define FileContent_BUFFER_SIZE               sizeof(DSComm::_DS_Header) + 1024
//#define DirCreate_BUFFER_SIZE                 sizeof(DSComm::_DS_Header) + 1024
//#define DirRead_BUFFER_SIZE                   sizeof(DSComm::_DS_Header) + sizeof(FilterIncl) + sizeof(FilterExcl) + 1024
//#define FileRemove_BUFFER_SIZE                sizeof(DSComm::_DS_Header) + sizeof(UDINT) + 1024
//#define FileCopy_BUFFER_SIZE                  sizeof(DSComm::_DS_Header) + sizeof(UDINT) + 1024
//#define FileInfo_BUFFER_SIZE                  sizeof(DSComm::_DS_Header) + 1024
//#define FileRename_BUFFER_SIZE                sizeof(DSComm::_DS_Header) + 1024
//#define FileSetAttribute_BUFFER_SIZE          sizeof(DSComm::_DS_Header) + sizeof(AttributeToSet) + sizeof(AttributeToReset) + 1024
#define GetDriveList_BUFFER_SIZE              sizeof(DSComm::_DS_HEADER)
//#define FileMove_BUFFER_SIZE                  sizeof(DSComm::_DS_Header) + sizeof(UDINT) + 1024
//
//#define EventjournalAdd_BUFFER_SIZE           sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024
//#define EventjournalGet_BUFFER_SIZE           sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 Journal IDs
#define EventjournalGetAll_BUFFER_SIZE        sizeof(DSComm::_DS_HEADER)
//#define EventjournalDel_BUFFER_SIZE           sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 Journal IDs
#define EventjournalDelAll_BUFFER_SIZE        sizeof(DSComm::_DS_HEADER)
//#define EventjournalQuitAlarm_BUFF_SIZE       sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + 1024         //256 alarm IDs
#define EventjournalQuitAll_BUFFER_SIZE       sizeof(DSComm::_DS_HEADER)
//#define SendUserEvent_BUFFER_SIZE             sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + 1024                       //1024 data bytes
#define AlarmListUpdate_BUFFER_SIZE           sizeof(DSComm::_DS_HEADER)
#define HotAlarmUpdate_BUFFER_SIZE            sizeof(DSComm::_DS_HEADER) + sizeof(pHotAlarm^)
//#define AlarmDelete_BUFFER_SIZE               sizeof(DSComm::_DS_Header) + sizeof(DSComm::_DS_FragmentHeader) + sizeof(DSComm::_DS_Header) + sizeof(num) + sizeof(toDelState) + 2048  //512 alarms
#define AlarmDeleteAll_BUFFER_SIZE            sizeof(DSComm::_DS_HEADER) + sizeof(toDelState)

//*--- Fehlernummern im Server ClassState -------------------------------------------------------------------------------*//
#define ERR_CREATE_COMM_THREAD        -1  //der Kommunikations-Thread konnte nicht kreiert werden (siehe Fehlernummer in TaskErrorNo)
#define ERR_CIL_IF_NOT_FOUND          -2  //das CIL-Interface "TCP_USER" ist nicht vorhanden
#define ERR_MEM_ALLOC_INIT            -3  //Init() konnte nicht genug Speicher allokieren
#define ERR_IP_ADDR_MISSING           -4  //die IP Adresse des Data Service fehlt (siehe Client <String>)
#define ERR_MEM_ALLOC_RUNTIME         -5  //ReceiveData() konnte nicht genug Speicher allokieren
#define ERR_CREATE_COMM_CHAN          -6  //Interner Kommunikationskanal (cPipe) konnte nicht erzeugt werden

//*--- DSComm Fehlernummern ---------------------------------------------------------------------------------------------*//
#define ERR_JOB_JOURNAL_FULL        -1      //Auftragsverwaltung voll
#define ERR_MALLOC_SEND_BUFFER      -2      //zuwenig RAM für Sendepuffer
#define ERR_MALLOC_RECV_BUFFER      -3      //Empfangspuffer oder Datenpuffer oder beide konnten nicht allokiert werden.
#define ERR_TCPIP                   -4      //TCPIP-Fehler: nicht alle Daten übertragen
#define ERR_WRONG_PARAMETER         -5      //Parameterfehler
#define ERR_INVALID_CHANNEL         -6      //Falsche Kanalnummer (> MAX_CHANNEL)
#define ERR_PROGRESS_INFO_FULL      -7      //ProgressInfo[] voll
#define ERR_HANDLE_ID_NOT_FOUND     -8      //HandleID in ProgressInfo[] nicht gefunden
#define ERR_JOB_TIMEOUT             -9      //Auftrag nach _RespTimeout (10s) / _RespTimeoutlong (60s) noch nicht fertig
#define ERR_DS_RESET                -10     //DataService ist im RESET-Zustand
#define ERR_USER_EVENT_FULL         -11     //UserEvent-Verwaltung voll
#define ERR_USER_EVENT_NOT_FOUND    -12     //UserEvent (MajorID / MinorID) nicht gefunden
#define ERR_USER_EVENT_EXISTS       -13     //UserEvent (MajorID / MinorID) schon vorhanden
#define ERR_NO_OBJECT_FOUND         -14     //Kein Objekt gefunden
#define ERR_MEM_ALLOC               -15     //Es konnte nicht genug Speicher allokiert werden
#define ERR_NO_USER_LOGIN           -16     //Kein Benutzer angemeldet
#define ERR_NO_MORE_OBJECT_ALLOWED  -17     //Es ist kein weiteres Objekt erlaubt

#define DS_ERROR_NONE             0x0000  // kein fehler aufgetreten
#define DS_ERROR_MEMORY           0x0019  // memory allocation failed

#define FlagMemError              0x0001  //Empfangspuffer oder Datenpuffer oder beide konnten nicht allokiert werden

#define MaxBuffers                8       //max. Anzahl der gleichzeitig existierenden Puffer
#define MaxDSBuffSize             16384   //Data Service kann derzeit nicht mehr Daten senden / empfangen

//*--- Data Service Session ID ------------------------------------------------------------------------------------------*//
#define SID_STATION_ALL            256
#define SID_DATASERVICE            511
#define SID_LOCAL_CLIENT_ALL       1024
#define SID_REMOTE_CLIENT_ALL      16384
#define SID_CLIENTS                32768
#define SID_ALL                    65535

//*--- Data Service Major ID --------------------------------------------------------------------------------------------*//
#define SIGMATEK_PROTOKOLL                0xFF00
#define SIGMATEK_EVENT_JOURNAL_PROTOKOLL  0xFF01

#define MAJOR_ID_SYSTEM_HIGH              0xFFFF  //für Anwender verboten
#define MAJOR_ID_SYSTEM_LOW               0xF000
#define MAJOR_ID_APP_HIGH                 0xEFFF  //für Anwender erlaubt
#define MAJOR_ID_APP_LOW                  0x8000
#define MAJOR_ID_USER_HIGH                0x7FFF
#define MAJOR_ID_USER_LOW                 0x0000


//*--- Data Service Minor ID Command ------------------------------------------------------------------------------------*//
#define AliveTriggerCmd               0x0007
#define CancelCmd                     0x000E
#define GetVersionCmd                 0x0010
#define GetProjectInfoCmd             0x0016
#define SendFragmentCmd               0x0031
#define SubscribeStateCmd             0x0035
#define UnsubscribeStateCmd           0x0037
#define GetStateCmd                   0x0040
#define LoopCmd                       0x0062
#define RecipeLoadCmd                 0x0091
#define RecipeSaveCmd                 0x0093
#define SendToAllCmd                  0x009D
#define ResetDataserviceCmd           0x00A0
#define RestartDataserviceCmd         0x00A2

#define AddLocalClientCmd             0x00B0
#define AddLocalClientRangeCmd        0x00B2
#define RemoveThisLocalClientCmd      0x00B4
#define RemoveLocalClientCmd          0x00B6
#define RemoveLocalClientRangeCmd     0x00B8
#define ClearLocalClientListCmd       0x00BA
#define GetCurrentIDCmd               0x00BC
#define GetLocalClientListCmd         0x00BE
#define GetLocalClientListDetailsCmd  0x00C0
#define GetLocalClientByIDCmd         0x00C2

#define UserLoginCmd                  0x0100
#define UserLogoutCmd                 0x0102
#define UserPasswordChangeCmd         0x0104
#define CheckAccessLevelCmd           0x010A
#define CreateUserCmd                 0x0110
#define ChangeUserSettingsCmd         0x0112
#define DeleteUserCmd                 0x0114
#define GetUserListCmd                0x0116
#define GetUserDetailsCmd             0x0118
#define CreateRoleCmd                 0x0120
#define ChangeRoleCmd                 0x0122
#define DeleteRoleCmd                 0x0124
#define GetRoleListCmd                0x0126
#define GetRoleDetailsCmd             0x0128
#define GetVarIdFromNameCmd           0x0204
#define GetVarIdFromLasalIdCmd        0x0206
#define GetLasalIdFromNameCmd         0x0208
#define GetLasalIdFromVarIdCmd        0x020A
#define GetNameFromVarIdCmd           0x020C
#define GetNameFromLasalIdCmd         0x020E
#define GetDpListCmd                  0x0210
#define GetDpInfoCmd                  0x0212
#define GetVarIdFromCRCCmd            0x0214
#define GetCRCfromVarIdCmd            0x0216
#define GetValueCmd                   0x0220
#define GetStringCmd                  0x0222
#define SetValueCmd                   0x0230
#define SetStringCmd                  0x0232
#define IncValueCmd                   0x0236
#define DecValueCmd                   0x0238
#define RefListAddCmd                 0x0240
#define RefListSubCmd                 0x0242
#define GetStationStatusCmd           0x0310
#define GetStationListCmd             0x0312
#define FileOpenCmd                   0x0500
#define FileCloseCmd                  0x0502
#define FileSeekCmd                   0x0504
#define FileTellCmd                   0x0506
#define FileReadCmd                   0x0508
#define FileWriteCmd                  0x050A
#define FileGetCmd                    0x050C
#define FilePutCmd                    0x050E
#define FileLengthCmd                 0x0510
#define FileContentCmd                0x0512
#define DirCreateCmd                  0x0520
#define DirReadCmd                    0x0522
#define FileRemoveCmd                 0x0530
#define FileCopyCmd                   0x0532
#define FileInfoCmd                   0x0534
#define FileRenameCmd                 0x0536
#define FileSetAttributeCmd           0x0538
#define GetDriveListCmd               0x053A
#define FileMoveCmd                   0x053C

#define EventjournalAddCmd            0x0400
#define EventjournalGetCmd            0x0402
#define EventjournalGetAllCmd         0x0404
#define EventjournalDelCmd            0x0406
#define EventjournalDelAllCmd         0x0408
#define EventjournalQuitAlarmCmd      0x0410
#define EventjournalQuitAllCmd        0x0412

#define AlarmListUpdateAddCmd         0x0414
#define AlarmListUpdateSubCmd         0x0416
#define HotAlarmUpdateAddCmd          0x0420
#define HotAlarmUpdateSubCmd          0x0422
#define AlarmDeleteCmd                0x0426
#define AlarmDeleteAllCmd             0x0428

//*--- Data Service Minor ID Response -----------------------------------------------------------------------------------*//
#define AliveTriggerRsp               0x0007
#define CancelCmdRsp                  0x000F
#define GetVersionRsp                 0x0011
#define GetProjectInfoRsp             0x0017
#define SendUserEventRsp              0x0020      //Antwort auf SendUserEvent()
#define SendFragmentRsp               0x0032      //eigene Antwort nachdem ein Fragment empfangen wurde
#define SubscribeStateRsp             0x0036
#define UnsubscribeStateRsp           0x0038
#define GetStateRsp                   0x0041
#define LoopRsp                       0x0063
#define RecipeLoadRsp                 0x0090
#define RecipeSaveRsp                 0x0092
#define SendToAllRsp                  0x009E
#define ResetDataserviceRsp           0x00A1
#define RestartDataserviceRsp         0x00A3

#define AddLocalClientRsp             0x00B1
#define AddLocalClientRangeRsp        0x00B3
#define RemoveThisLocalClientRsp      0x00B5
#define RemoveLocalClientRsp          0x00B7
#define RemoveLocalClientRangeRsp     0x00B9
#define ClearLocalClientListRsp       0x00BB
#define GetCurrentIDRsp               0x00BD
#define GetLocalClientListRsp         0x00BF
#define GetLocalClientListDetailsRsp  0x00C1
#define GetLocalClientByIDRsp         0x00C3

#define UserLoginRsp                  0x0101
#define UserLogoutRsp                 0x0103
#define UserPasswordChangeRsp         0x0105
#define CheckAccessLevelRsp           0x010B
#define CreateUserRsp                 0x0111
#define ChangeUserSettingsRsp         0x0113
#define DeleteUserRsp                 0x0115
#define GetUserListRsp                0x0117
#define GetUserDetailsRsp             0x0119
#define CreateRoleRsp                 0x0121
#define ChangeRoleRsp                 0x0123
#define DeleteRoleRsp                 0x0125
#define GetRoleListRsp                0x0127
#define GetRoleDetailsRsp             0x0129
#define GetVarIdFromNameRsp           0x0205
#define GetVarIdFromLasalIdRsp        0x0207
#define GetLasalIdFromNameRsp         0x0209
#define GetLasalIdFromVarIdRsp        0x020B
#define GetNameFromVarIdRsp           0x020D
#define GetNameFromLasalIdRsp         0x020F
#define GetDpListRsp                  0x0211
#define GetDpInfoRsp                  0x0213
#define GetVarIdFromCRCRsp            0x0215
#define GetCRCfromVarIdRsp            0x0217
#define GetValueRsp                   0x0221
#define GetStringRsp                  0x0223
#define SetValueRsp                   0x0231
#define SetStringRsp                  0x0233
#define IncValueRsp                   0x0237
#define DecValueRsp                   0x0239
#define RefListAddRsp                 0x0241
#define RefListSubRsp                 0x0243
#define GetStationStatusRsp           0x0311
#define GetStationListRsp             0x0313
#define FileOpenRsp                   0x0501
#define FileCloseRsp                  0x0503
#define FileSeekRsp                   0x0505
#define FileTellRsp                   0x0507
#define FileReadRsp                   0x0509
#define FileWriteRsp                  0x050B
#define FileGetRsp                    0x050D
#define FilePutRsp                    0x050F
#define FileLengthRsp                 0x0511
#define FileContentRsp                0x0513
#define DirCreateRsp                  0x0521
#define DirReadRsp                    0x0523
#define FileRemoveRsp                 0x0531
#define FileCopyRsp                   0x0533
#define FileInfoRsp                   0x0535
#define FileRenameRsp                 0x0537
#define FileSetAttributeRsp           0x0539
#define GetDriveListRsp               0x053B
#define FileMoveRsp                   0x053D

#define EventjournalAddRsp            0x0401
#define EventjournalGetRsp            0x0403
#define EventjournalGetAllRsp         0x0405
#define EventjournalDelRsp            0x0407
#define EventjournalDelAllRsp         0x0409
#define EventjournalQuitAlarmRsp      0x0411
#define EventjournalQuitAllRsp        0x0413

#define AlarmListUpdateAddRsp         0x0415
#define AlarmListUpdateSubRsp         0x0417
#define HotAlarmUpdateAddRsp          0x0421
#define HotAlarmUpdateSubRsp          0x0423
#define AlarmDeleteRsp                0x0427
#define AlarmDeleteAllRsp             0x0429

//*--- Data Service Minor ID Push Notifiaction --------------------------------------------------------------------------*//
#define UpdateStatePsh          0x0039
#define ProgressStatusPsh       0x0080
#define SendToAllPsh            0x009D
#define UserLogoutPsh           0x0108
#define RefListUpdatePsh        0x024A
#define RefListUpdateStringPsh  0x024B
#define EventjournalUpdatePsh   0x040C
#define AlarmListUpdatePsh      0x0419
#define HotAlarmUpdatePsh       0x0425
#define AlarmDeleteUpdPsh       0x042A

//*--- Data Service Transaction Src und Dest ----------------------------------------------------------------------------*//
#define TransactSrc             0
#define TransactDest            511

//*--- Data Service Session-IDs (Broadcast) -----------------------------------------------------------------------------*//
#define ID_STATION_ALL          0x0100  //(256)   Broadcast Adresse aller Stationen
#define ID_DATASERVICE          0x01FF  //(511)   Die SessionID des Dataservice
#define ID_LOCAL_CLIENT_ALL     0x0400  //(1024)  Broadcast Adresse aller lokalen Clients
#define ID_REMOTE_CLIENT_ALL    0x4000  //(16384) Broadcast Adresse aller remote Clients
#define ID_CLIENTS              0x8000  //(32768) Broadcast Adresse aller Clients (local + remote)
#define ID_ALL                  0xFFFF  //(65535) Broadcast Adresse aller Geräte (Clients + Stations)

#define MEM_Mark_DS_Comm        7       //erlaubt ist 0 bis 10
//Define part of class DSComm_Eventjournal
// System Event IDs
#define EVTJOURIF_EVENTID_DEFAULT             0x0000
#define EVTJOURIF_EVENTID_ALARM               0xFFFE
#define EVTJOURIF_EVENTID_SET_POINT           0xFFFD
#define EVTJOURIF_EVENTID_MESSAGE             0xFFFC
#define EVTJOURIF_EVENTID_WARNING             0xFFFB
#define EVTJOURIF_EVENTID_ERROR               0xFFFA
#define EVTJOURIF_EVENTID_LOG_IN_OUT          0xFFF9
#define EVTJOURIF_EVENTID_POWER_ON_OFF        0xFFF8
#define EVTJOURIF_EVENTID_DEL_ALL             0xFFF7
#define EVTJOURIF_EVENTID_SET_POINT_STR       0xFFF6
#define EVTJOURIF_EVENTID_RECIPE_LOAD         0xFFF5
#define EVTJOURIF_EVENTID_RECIPE_SAVE         0xFFF4
#define EVTJOURIF_EVENTID_USERTEXT            0xFFF3

// Ranges of the Event IDs
#define EVTJOURIF_IDRANGE_USER_MIN            EVTJOURIF_EVENTID_DEFAULT
#define EVTJOURIF_IDRANGE_USER_MAX            0x7FFF
#define EVTJOURIF_IDRANGE_APPLICATION_MIN     0x8000
#define EVTJOURIF_IDRANGE_APPLICATION_MAX     0xBFFF
#define EVTJOURIF_IDRANGE_SYSTEM_MIN          0xC000
#define EVTJOURIF_IDRANGE_SYSTEM_MAX          0xFFFF

// Utility Defines
#define EVTJOURIF_MAX_STRING_LENGTH           512

// Error Codes
#define EVTJOURIF_ERROR_EVT_ID_INVALID        -1000
#define EVTJOURIF_ERROR_NIL_POINTER           -1001
#include <.\lsl_st_mt.h>
//Define part of class Send_Message
#pragma usingLtd DSComm_Interface


FUNCTION GLOBAL TAB ONE_NET_DSComm
-1$UINT, 0$UINT, 
0$UINT, 0$UINT,

8$UDINT,
TO_UDINT(3848629641), "DSComm", 2$UINT, 3$UINT, 1$UINT,
TO_UDINT(2754536051), "DSComm_Eventjournal", 1$UINT, 0$UINT, 1$UINT,
TO_UDINT(1124413560), "DSComm_Interface", 2$UINT, 3$UINT, 1$UINT,
TO_UDINT(2225119864), "MerkerEx", 1$UINT, 22$UINT, 2$UINT,
TO_UDINT(212889175), "Send_message", 0$UINT, 0$UINT, 1$UINT,
TO_UDINT(1850111279), "String", 1$UINT, 11$UINT, 2$UINT,
TO_UDINT(2898603620), "StringInternal", 1$UINT, 85$UINT, 0$UINT,
TO_UDINT(3232495061), "VirtualBaseInit", 1$UINT, 3$UINT, 0$UINT,

_NO_ATTR, TO_UDINT(392016222), "DSCOMM1", 

_NO_ATTR, TO_UDINT(1249173971), "DSCOMM_EVENTJOURNAL1", 

_NO_ATTR, TO_UDINT(3712029577), "DSCOMM_INTERFACE1", 

1$UINT, TO_UDINT(3694391019), "DSCOMM1\THREADNAME\MERKEREX0", 
1$UINT, TO_UDINT(3025948), "STRING1\MERKEREX0", 

_NO_ATTR, TO_UDINT(1994365838), "SEND_MESSAGE1", 

1$UINT, TO_UDINT(1404843167), "DSCOMM1\THREADNAME", 
_NO_ATTR, TO_UDINT(677614747), "STRING1", 



//Internal connections
0$UDINT,
3$UDINT,
TO_UDINT(0), "ThreadName", TO_UDINT(6),
TO_UDINT(6), "MerkerEx0", TO_UDINT(3),
TO_UDINT(7), "MerkerEx0", TO_UDINT(4),
0$UDINT,
7$UDINT,
TO_UDINT(0), "cIPaddr", TO_UDINT(7), "Data",
TO_UDINT(1), "DSComm_Interface", TO_UDINT(2), "ClassSvr",
TO_UDINT(2), "DSComm", TO_UDINT(0), "ClassSvr",
TO_UDINT(5), "Link_E", TO_UDINT(1), "ClassSvr",
TO_UDINT(5), "DSComm", TO_UDINT(0), "ClassSvr",
TO_UDINT(6), "DataBuffer", TO_UDINT(3), "m_udLength",
TO_UDINT(7), "DataBuffer", TO_UDINT(4), "m_udLength",

//Initialization values
0$UDINT,
4$UDINT,
TO_UDINT(3), "ThreadSafe", TO_UDINT(0),//|NET_DSComm.ThreadName\DSComm1\MerkerEx0.ThreadSafe;
TO_UDINT(4), "ThreadSafe", TO_UDINT(0),//|NET_DSComm.String1\MerkerEx0.ThreadSafe;
TO_UDINT(6), "SingleRealloc", TO_UDINT(1),//|NET_DSComm.DSComm1\ThreadName.SingleRealloc;
TO_UDINT(7), "SingleRealloc", TO_UDINT(1),//|NET_DSComm.String1.SingleRealloc;

//Symbolic initialization values
0$UDINT,
0$UDINT,

//Initialization of string values
0$UDINT,
1$UDINT,
TO_UDINT(7), "", 0$UINT, TO_UINT(OFF(L1)-OFF(L0)), L0:"127.0.0.1",L1://|NET_DSComm.String1.Data;

//Configuration of tasks (RealTime, Cyclic, Background)
0$UDINT,
0$UDINT,

0$UDINT,
0$UDINT,

0$UDINT,
2$UDINT,
TO_UDINT(2), (10)$UDINT, 4194303$DINT, 	//DSCOMM_INTERFACE1
TO_UDINT(5), (1000)$UDINT, 4194303$DINT, 	//SEND_MESSAGE1

//External connections
0$UDINT,
0$UDINT,

//Magic internal connections
0$UDINT,
0$UDINT,

//Configuration of timeslots of tasks (RealTime, Cyclic)
#ifdef __LSLLDR_TIMESLOTS__
0$UDINT,
0$UDINT,

0$UDINT,
0$UDINT,

#endif //__LSLLDR_TIMESLOTS__

//MultiMaster connections
#ifdef __LSLLDR_MULTIMASTER__
0$UDINT,
0$UDINT,
#endif //__LSLLDR_MULTIMASTER__

//Configuration for task ID (RealTime, CyclicTime)
#ifdef __LSLLDR_TASKID__
"\\\\TASKS2  "
0$UDINT,
0$UDINT,

0$UDINT,
0$UDINT,

0$UDINT,
2$UDINT,
(0)$UDINT, 	//DSCOMM_INTERFACE1
(0)$UDINT, 	//SEND_MESSAGE1

#endif //__LSLLDR_TASKID__

END_FUNCTION